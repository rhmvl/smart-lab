@reference "tailwindcss";

/* Container Luar Utama */
.dashboard-outer-container {
  @apply relative w-full min-h-screen overflow-x-hidden box-border;
  perspective: 1000px;
  background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
  background-size: 400% 400%;
  animation: gradient-animation 15s ease infinite;
  background-attachment: fixed;
}

/* Header Utama */
.main-header {
  @apply fixed top-4 left-1/2 -translate-x-1/2 flex justify-between items-center
  max-w-[90%] py-3 px-6 z-30 rounded-xl shadow-lg
  bg-white/10 backdrop-blur-md border border-white/20;
}
.main-title {
  @apply text-2xl font-bold text-white mr-4 drop-shadow-md;
}
.header-icons {
  @apply flex gap-3;
}
.header-icon-btn {
  @apply flex justify-center items-center text-white w-10 h-10 rounded-full border border-white/30
  bg-white/20 text-lg cursor-pointer shadow-md transition-all duration-300 ease-in-out;
}
.header-icon-btn:hover {
  @apply bg-white/40 scale-110 rotate-[10deg];
}

/* Area Konten (Wrapper untuk kartu) */
.dashboard-container {
  @apply relative w-full min-h-screen pt-24 z-[5] box-border;
}

/* ================================== */
/* === KARTU FITUR (DEFINISI UTAMA) === */
/* ================================== */
/* Ini adalah SATU-SATUNYA definisi .feature-card-interactive */
.feature-card-interactive {
  @apply absolute opacity-0 /* Mulai transparan */
  w-[200px] min-h-[220px] /* Ukuran lebih tinggi */
  p-5 rounded-2xl
  flex flex-col justify-center items-center text-center bg-white/90 text-gray-800 cursor-pointer;

  /* Efek 3D (Ilusi Tebal) */
  border: 1px solid rgba(255, 255, 255, 0.4);
  border-bottom: 6px solid rgba(0, 0, 0, 0.2); /* Sisi bawah tebal */
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1),
  inset 0 1px 1px rgba(255, 255, 255, 0.4),
  inset 0 -1px 1px rgba(0, 0, 0, 0.1);

  /* Variabel CSS untuk rotasi perspektif dari JS */
  --rotateX: 0deg;
  --rotateY: 0deg;
  transform: rotateX(var(--rotateX)) rotateY(var(--rotateY));

  /* Transisi untuk hover & perspektif */
  transition: transform 0.1s ease-out, box-shadow 0.3s ease, border-color 0.3s ease, opacity 0.3s ease;

  /* JANGAN definisikan 'animation' di sini. Biarkan kelas di bawah yang mengaturnya */
}

/* Style Dark Mode untuk Kartu (SATU definisi) */
.dark .feature-card-interactive {
  @apply bg-gray-800/80 text-gray-100;
  border: 1px solid rgba(75, 85, 99, 0.6);
  border-bottom: 6px solid rgba(0, 0, 0, 0.35);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2),
  inset 0 1px 1px rgba(255, 255, 255, 0.1),
  inset 0 -1px 1px rgba(0, 0, 0, 0.2);
}
.dark .feature-card-interactive p {
  @apply text-gray-300;
}

/* Hover State (SATU definisi) */
.feature-card-interactive:hover {
  @apply shadow-[0_15px_30px_rgba(0,0,0,0.2),0_0_20px_var(--glow-color)];
  transform: translateY(-12px) scale(1.05) rotateX(var(--rotateX)) rotateY(var(--rotateY));
  border-bottom-color: rgba(0, 0, 0, 0.35);
  /* Pause animasi kedua (melayang) saat di-hover */
  animation-play-state: running, paused !important;
}
.dark .feature-card-interactive:hover {
  border-bottom-color: rgba(0, 0, 0, 0.5);
}

/* Konten di dalam kartu */
.card-content-wrapper {
  @apply flex flex-col justify-center items-center;
  /* Penting untuk counter-spin */
}
.card-content-wrapper img,
.card-content-wrapper svg {
  @apply w-12 h-12 mb-3;
}
.card-content-wrapper h3 {
  @apply text-lg font-bold mb-2;
}
.card-content-wrapper p {
  @apply text-sm text-gray-500 leading-snug;
}

/* ================================== */
/* === KEYFRAMES ANIMASI === */
/* ================================== */
@keyframes gradient-animation {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Animasi Masuk Default (Wajib ada) */
@keyframes slide-in-default {
  from { transform: translateY(100px) rotate(-5deg); opacity: 0; }
  to { transform: translateY(0) rotate(0deg) rotateX(var(--rotateX)) rotateY(var(--rotateY)); opacity: 1; }
}

/* Keyframes untuk Animasi Acak (Lengkap) */
@keyframes zero-gravity {
  0%, 100% { transform: translate(0, 0) rotate(0deg) rotateX(var(--rotateX)) rotateY(var(--rotateY)); }
  25% { transform: translate(5px, 10px) rotate(1deg) rotateX(var(--rotateX)) rotateY(var(--rotateY)); }
  50% { transform: translate(0, -5px) rotate(-1deg) rotateX(var(--rotateX)) rotateY(var(--rotateY)); }
  75% { transform: translate(-5px, 5px) rotate(0.5deg) rotateX(var(--rotateX)) rotateY(var(--rotateY)); }
}
@keyframes spin-card {
  from { transform: rotateY(0deg) rotateX(var(--rotateX)) rotateY(var(--rotateY)); }
  to   { transform: rotateY(360deg) rotateX(var(--rotateX)) rotateY(var(--rotateY)); }
}
@keyframes breathe {
  0%, 100% { transform: scale(1) rotateX(var(--rotateX)) rotateY(var(--rotateY)); }
  50%      { transform: scale(1.05) rotateX(var(--rotateX)) rotateY(var(--rotateY)); }
}
@keyframes side-to-side {
  0%, 100% { transform: translateX(0) rotateX(var(--rotateX)) rotateY(var(--rotateY)); }
  50%      { transform: translateX(10px) rotateX(var(--rotateX)) rotateY(var(--rotateY)); }
}
@keyframes up-and-down {
  0%, 100% { transform: translateY(0) rotateX(var(--rotateX)) rotateY(var(--rotateY)); }
  50%      { transform: translateY(-10px) rotateX(var(--rotateX)) rotateY(var(--rotateY)); }
}
@keyframes flicker {
  0%, 100% { opacity: 1; }
  50%      { opacity: 0.3; }
}
@keyframes pendulum {
  0%, 100% { transform: rotateZ(0deg) rotateX(var(--rotateX)) rotateY(var(--rotateY)); transform-origin: top center; }
  50%      { transform: rotateZ(5deg) rotateX(var(--rotateX)) rotateY(var(--rotateY)); transform-origin: top center; }
}
@keyframes counter-spin {
  from { transform: rotateY(0deg); }
  to   { transform: rotateY(-360deg); }
}

/* ================================== */
/* === KELAS ANIMASI GABUNGAN === */
/* ================================== */
/* Hapus .animate-slide-in (tidak perlu) */

.animate-zero-gravity {
  animation: slide-in-default 1s forwards cubic-bezier(0.25, 1, 0.5, 1) var(--animation-delay, 0s),
  zero-gravity 12s ease-in-out infinite 1s;
}
.animate-spin-card {
  animation: slide-in-default 1s forwards cubic-bezier(0.25, 1, 0.5, 1) var(--animation-delay, 0s),
  spin-card 8s linear infinite 1s;
}
.animate-spin-card > .card-content-wrapper {
  animation: counter-spin 8s linear infinite 1s;
}
.animate-breathe {
  animation: slide-in-default 1s forwards cubic-bezier(0.25, 1, 0.5, 1) var(--animation-delay, 0s),
  breathe 4s ease-in-out infinite 1s;
}
.animate-side-to-side {
  animation: slide-in-default 1s forwards cubic-bezier(0.25, 1, 0.5, 1) var(--animation-delay, 0s),
  side-to-side 5s ease-in-out infinite 1s;
}
.animate-up-and-down {
  animation: slide-in-default 1s forwards cubic-bezier(0.25, 1, 0.5, 1) var(--animation-delay, 0s),
  up-and-down 3s ease-in-out infinite 1s;
}
.animate-flicker {
  animation: slide-in-default 1s forwards cubic-bezier(0.25, 1, 0.5, 1) var(--animation-delay, 0s),
  flicker 1.5s ease-in-out infinite 1s;
}
.animate-pendulum {
  animation: slide-in-default 1s forwards cubic-bezier(0.25, 1, 0.5, 1) var(--animation-delay, 0s),
  pendulum 4s ease-in-out infinite 1s;
}

/* ================================== */
/* === RESPONSIVE MEDIA QUERIES === */
/* ================================== */
@media (max-width: 768px) {
  .dashboard-container {
    @apply pt-20 min-h-[calc(100vh-80px)] h-auto;
  }
  .main-header {
    @apply py-2 px-4 justify-center;
  }
  .header-icons {
    @apply absolute top-2 right-2;
  }
  /* Ubah kartu menjadi 2D & non-absolut di mobile */
  .feature-card-interactive {
    @apply relative w-4/5 max-w-[280px] my-5 mx-auto opacity-100 transform-none;
    animation: none !important;
    /* Reset border & shadow 3D */
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
    min-height: 180px;
  }
  .dark .feature-card-interactive {
    border: 1px solid rgba(75, 85, 99, 0.7);
    border-bottom: 1px solid rgba(75, 85, 99, 0.7);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
  }
  .feature-card-interactive:hover {
    transform: translateY(-5px) scale(1.03) !important;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15) !important;
  }
  .dark .feature-card-interactive:hover {
    border-bottom-color: rgba(75, 85, 99, 0.7);
  }
}

@media (max-width: 480px) {
  .main-title {
    font-size: 18px;
  }
  .feature-card-interactive {
    width: 90%;
    min-height: 130px;
    padding: 12px;
  }
  .feature-card-interactive img,
  .feature-card-interactive svg {
    width: 30px;
    height: 30px;
  }
  .feature-card-interactive h3 {
    font-size: 15px;
  }
  .feature-card-interactive p {
    font-size: 12px;
  }
}
